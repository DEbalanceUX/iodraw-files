```mermaid
classDiagram
    %% 核心关系定义
    CommentServiceImpl ..|> CommentService 
    CommentEntity "1" -- "n" ReplyEntity    
    CommentController ..> CommentService
    CommentController ..> CommentDto
    CommentController ..> ReplyDto
    CommentService ..> CommentEntity
    CommentService ..> ReplyEntity
    CommentServiceImpl ..> CommentMapper
    CommentServiceImpl ..> ReplyMapper
    CommentMapper ..> CommentEntity
    ReplyMapper ..> ReplyEntity
    CommentVo ..> CommentEntity           
    CommentVo ..> ReplyEntity             
    CommentVo ..> UserEntity               

    %% 评论实体类
    class CommentEntity {
        - Integer commentId
        - Integer articleId
        - Integer userId
        - String cMsg
        - Integer cStar
        - Date cTime
        + Integer getCommentId()
        + void setCStar(Integer cStar)
    }

    %% 回复实体类
    class ReplyEntity {
        - Integer replyId
        - Integer commentId
        - Integer fromUserId
        - Integer toUserId
        - String replyMsg
        - Date replyTime
        - Integer rStar
        + Integer getCommentId()
    }

    %% 评论请求类
    class CommentDto {
        - Integer articleId
        - String cMsg
        + Integer getArticleId()
        + String getCMsg()
    }

    %% 回复请求类
    class ReplyDto {
        - Integer commentId
        - Integer toUserId
        - String replyMsg
        + Integer getCommentId()
    }

    %% 评论VO类（前端展示）
    class CommentVo {
        - Integer commentId
        - String cMsg
        - Integer cStar
        - Date cTime
        - String userName
        - String userAvatar
        - List<ReplyVo> replies
        + Integer getCommentId()
    }

    %% 回复VO类（前端展示）
    class ReplyVo {
        - Integer replyId
        - String replyMsg
        - Date replyTime
        - String fromUserName
        - String toUserName
        + Integer getReplyId()
    }

    %% 控制器类
    class CommentController {
        - CommentService commentService
        + Result addComment(CommentDto dto, Integer userId)
        + Result addReply(ReplyDto dto, Integer userId)
        + List<CommentVo> getCommentList(Integer articleId)
        + Result likeComment(Integer commentId)
    }

    %% 服务接口
    interface CommentService {
        + Integer addComment(CommentEntity comment)
        + Integer addReply(ReplyEntity reply)
        + List<CommentEntity> getCommentsByArticleId(Integer articleId)
        + Boolean incrementStar(Integer commentId)
    }

    %% 服务实现类（补充完整性）
    class CommentServiceImpl {
        - CommentMapper commentMapper
        - ReplyMapper replyMapper
        - UserMapper userMapper
        + Integer addComment(CommentEntity comment)
        + Integer addReply(ReplyEntity reply)
        + List<CommentEntity> getCommentsByArticleId(Integer articleId)
        + Boolean incrementStar(Integer commentId)
    }

    %% 数据访问接口
    class CommentMapper {
        + Integer insertComment(CommentEntity comment)
        + List<CommentEntity> selectByArticleId(Integer articleId)
        + Integer updateStar(Integer commentId)
    }

    class ReplyMapper {
        + Integer insertReply(ReplyEntity reply)
        + List<ReplyEntity> selectByCommentId(Integer commentId)
    }

    %% 基础依赖类（复用已有定义）
    class UserEntity {
        - Integer userId
        - String username
        - String password
        - String nickname
        - String avatar
        - Integer status
        - Date createTime
        - String signature
        - String selfIntroduction
        + Integer getUserId()
        + void setPassword(String password)
    }
```
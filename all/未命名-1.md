```mermaid
classDiagram
    %% 核心关系定义
    CommentServiceImpl ..|> CommentService 
    CommentEntity "1" -- "n" ReplyEntity    
    UserEntity "n" -- "n" ArticleEntity : 收藏 via CollectionEntity
    UserEntity "n" -- "n" UserEntity : 关注 via FollowEntity
    UserEntity "1" -- "n" MessageEntity    
    UserEntity "1" -- "n" FeedbackEntity    
    MessageServiceImpl ..|> MessageService
    CollectionServiceImpl ..|> CollectionService
    FollowServiceImpl ..|> FollowService
    FeedbackServiceImpl ..|> FeedbackService

    %% 依赖关系
    CommentController ..> CommentService
    CommentController ..> CommentDto
    CommentController ..> ReplyDto
    CommentService ..> CommentEntity
    CommentService ..> ReplyEntity
    CommentServiceImpl ..> CommentMapper
    CommentServiceImpl ..> ReplyMapper
    CommentMapper ..> CommentEntity
    ReplyMapper ..> ReplyEntity
    CommentVo ..> CommentEntity           
    CommentVo ..> ReplyEntity             
    CommentVo ..> UserEntity
    CollectFollowController ..> CollectionService
    CollectFollowController ..> FollowService
    CollectionService ..> CollectionEntity
    FollowService ..> FollowEntity
    CollectionServiceImpl ..> CollectionMapper
    CollectionServiceImpl ..> ArticleMapper
    FollowServiceImpl ..> FollowMapper
    FollowServiceImpl ..> UserMapper
    CollectionMapper ..> CollectionEntity
    FollowMapper ..> FollowEntity
    CollectFollowController ..> ArticleVo
    CollectFollowController ..> UserVo
    MessageController ..> MessageService
    MessageController ..> MessageVo
    MessageService ..> MessageEntity
    MessageServiceImpl ..> MessageMapper
    MessageMapper ..> MessageEntity
    MessageVo ..> MessageEntity
    FeedbackController ..> FeedbackService
    FeedbackController ..> FeedbackDto
    FeedbackController ..> FeedbackVo
    FeedbackService ..> FeedbackEntity
    FeedbackServiceImpl ..> FeedbackMapper
    FeedbackMapper ..> FeedbackEntity
    FeedbackVo ..> FeedbackEntity

    %% 评论模块
    class CommentEntity {
        - Integer commentId
        - Integer articleId
        - Integer userId
        - String cMsg
        - Integer cStar
        - Date cTime
        + Integer getCommentId()
        + void setCStar(Integer cStar)
    }

    class ReplyEntity {
        - Integer replyId
        - Integer commentId
        - Integer fromUserId
        - Integer toUserId
        - String replyMsg
        - Date replyTime
        - Integer rStar
        + Integer getCommentId()
    }

    class CommentDto {
        - Integer articleId
        - String cMsg
        + Integer getArticleId()
        + String getCMsg()
    }

    class ReplyDto {
        - Integer commentId
        - Integer toUserId
        - String replyMsg
        + Integer getCommentId()
    }

    class CommentVo {
        - Integer commentId
        - String cMsg
        - Integer cStar
        - Date cTime
        - String userName
        - String userAvatar
        - List<ReplyVo> replies
        + Integer getCommentId()
    }

    class ReplyVo {
        - Integer replyId
        - String replyMsg
        - Date replyTime
        - String fromUserName
        - String toUserName
        + Integer getReplyId()
    }
    class CommentController {
        - CommentService commentService
        + Result addComment(CommentDto dto, Integer userId)
        + Result addReply(ReplyDto dto, Integer userId)
        + List<CommentVo> getCommentList(Integer articleId)
        + Result likeComment(Integer commentId)
    }
    class CommentService {
        + Integer addComment(CommentEntity comment)
        + Integer addReply(ReplyEntity reply)
        + List<CommentEntity> getCommentsByArticleId(Integer articleId)
        + Boolean incrementStar(Integer commentId)
    }

    class CommentServiceImpl {
        - CommentMapper commentMapper
        - ReplyMapper replyMapper
        - UserMapper userMapper
        + Integer addComment(CommentEntity comment)
        + Integer addReply(ReplyEntity reply)
        + List<CommentEntity> getCommentsByArticleId(Integer articleId)
        + Boolean incrementStar(Integer commentId)
    }
    class CommentMapper {
        + Integer insertComment(CommentEntity comment)
        + List<CommentEntity> selectByArticleId(Integer articleId)
        + Integer updateStar(Integer commentId)
    }

    class ReplyMapper {
        + Integer insertReply(ReplyEntity reply)
        + List<ReplyEntity> selectByCommentId(Integer commentId)
    }

    %% 收藏/关注模块
    class CollectionEntity {
        - Integer collectionId
        - Integer userId
        - Integer articleId
        - Date collectTime
        + Integer getUserId()
        + Integer getArticleId()
    }
    class FollowEntity {
        - Integer followId
        - Integer fromUserId
        - Integer toUserId
        - Date followTime
        + Integer getFromUserId()
        + Integer getToUserId()
    }

    class CollectFollowController {
        - CollectionService collectionService
        - FollowService followService
        + Result toggleCollect(Integer articleId, Integer userId)
        + Result toggleFollow(Integer toUserId, Integer userId)
        + List<ArticleVo> getMyCollections(Integer userId)
        + List<UserVo> getMyFollows(Integer userId)
    }

    class CollectionService {
        + Boolean isCollected(Integer userId, Integer articleId)
        + Boolean addCollection(CollectionEntity collection)
        + Boolean removeCollection(Integer userId, Integer articleId)
    }

     class FollowService {
        + Boolean isFollowed(Integer fromUserId, Integer toUserId)
        + Boolean addFollow(FollowEntity follow)
        + Boolean removeFollow(Integer fromUserId, Integer toUserId)
    }
     class CollectionServiceImpl {
        - CollectionMapper collectionMapper
        - ArticleMapper articleMapper
        + Boolean isCollected(Integer userId, Integer articleId)
        + Boolean addCollection(CollectionEntity collection)
        + Boolean removeCollection(Integer userId, Integer articleId)
    }

    class FollowServiceImpl {
        - FollowMapper followMapper
        - UserMapper userMapper
        + Boolean isFollowed(Integer fromUserId, Integer toUserId)
        + Boolean addFollow(FollowEntity follow)
        + Boolean removeFollow(Integer fromUserId, Integer toUserId)
    }

    interface CollectionMapper {
        + CollectionEntity selectByUserAndArticle(Integer userId, Integer articleId)
        + Integer insertCollection(CollectionEntity collection)
        + Integer deleteCollection(Integer userId, Integer articleId)
    }

    
```
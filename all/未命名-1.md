```mermaid
classDiagram
    %% 关系定义
    MessageServiceImpl ..|> MessageService
    UserEntity "1" -- "n" MessageEntity
    MessageController ..> MessageService
    MessageController ..> MessageVo
    MessageService ..> MessageEntity
    MessageServiceImpl ..> MessageMapper
    MessageMapper ..> MessageEntity
    MessageVo ..> MessageEntity

    %% 核心类定义
    class MessageEntity {
        - Integer messageId
        - Integer userId
        - Integer type
        - String content
        - Date createTime
        - Integer read
        + Integer getUserId()
        + void setRead(Integer read)
    }

    class MessageVo {
        - Integer messageId
        - Integer type
        - String content
        - Date createTime
        - Integer read
        + Integer getMessageId()
    }

    class MessageController {
        - MessageService messageService
        + List<MessageVo> getMessageList(Integer userId)
        + Result markAsRead(Integer messageId)
        + Result deleteMessage(Integer messageId)
        + Integer getUnreadCount(Integer userId)
    }

    interface MessageService {
        + List<MessageEntity> getMessagesByUserId(Integer userId)
        + Boolean updateReadStatus(Integer messageId)
        + Boolean deleteMessage(Integer messageId)
        + Integer countUnread(Integer userId)
        + Boolean sendMessage(MessageEntity message)
    }

    class MessageServiceImpl {
        - MessageMapper messageMapper
        + List<MessageEntity> getMessagesByUserId(Integer userId)
        + Boolean updateReadStatus(Integer messageId)
        + Boolean deleteMessage(Integer messageId)
        + Integer countUnread(Integer userId)
        + Boolean sendMessage(MessageEntity message)
    }

    interface MessageMapper {
        + List<MessageEntity> selectByUserId(Integer userId)
        + Integer updateReadStatus(Integer messageId)
        + Integer deleteMessage(Integer messageId)
        + Integer countUnread(Integer userId)
        + Integer insertMessage(MessageEntity message)
    }

    class UserEntity {
        - Integer userId
        + Integer getUserId()
    }
```